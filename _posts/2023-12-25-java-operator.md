---
layout: post
title: Java 运算符
---

### 运算符介绍
运算符是指定要在表达式中执行的计算类型的标志或符号

### 算术运算符（Arithmetic Operators）

|运算符|描述|举例|
|-|-|-|
|+|正号|`+1`|
|-|负号|`-1`|
|+|加|`1 + 1`|
|-|减|`1 - 1`|
|*|乘|`1 * 2`|
|/|除|`1 / 2`|
|%|取余（取模）|`3 % 2`|
|++|自增|`int a = 0; a++;`<br>`int b = 0; ++b;`|
|--|自减|`int m = 1; m--;`<br>`int n = 1; --n;`|

> 1.注意：整数相除时会舍去小数位，例如：`10 / 4` 的结果是 `2`
> 2.在 Java 中，取余的原理是：`a % b` ➡ `a - (a / b * b)`
> 3.++ 或 -- 作为表达式使用时，当在变量后面时：先取变量值后加减；当在变量前面时：先加减后取变量值
> 4.后缀自增自减会引入一个`临时变量`保存运算前的值，看个例子：
> ```java
> int i = 1;
> i = i++; // 这一步可以分解为：int temp = i; i = i + 1; i = temp;
> System.out.println(i); // 结果：1
> ```

### 关系运算符（Relational Operators）
关系运算符也叫比较运算符，它的运算结果是 boolean 类型

|运算符|描述|举例|
|-|-|-|
|==|等于|`1 == 2`|
|!=|不等于|`1 != 2`|
|<|等于|`1 < 2`|
|>|等于|`1 > 2`|
|<=|等于|`1 <= 2`|
|>=|等于|`1 >= 2`|
|instanceof|判断左边对象是否是右边类的实例|`"hello" instanceof String`|


### 逻辑运算符（Logical Operators）

|运算符|描述|举例|
|-|-|-|
|&&|逻辑与，两个操作数为真时结果才为真|`(1 < 2) && (1 > 2)` 结果为 false|
|\|\||逻辑或，任一操作数为真结果即为真|`(1 < 2) \|\| (1 < 2)` 结果为 true|
|!|逻辑非，反转操作数的逻辑状态|`!(1 < 2)` 结果为 false|

> `&&` 前面的表达式为 `false` 时会直接**短路**返回 `false`，不执行后面的表达式
> `||` 前面的表达式为 `true` 时会直接**短路**返回 `true`，不执行后面的表达式

### 赋值运算符（Assignment Operators）
赋值运算符就是将某个表达式运算后的结果，赋给指定的变量，分为 2 种：
1. 基本赋值运算符：`=`
2. 复合赋值运算符：`+=`、`-=`、`*=`、`/=`、`%=`、`<<=`、`>>=`、`>>>=`、`&=`、`|=`、`^=`
> 以 `+=` 为例：`a += b;` 等价于 `a = a + b;`

特性：
1. 运算顺序：先计算右边的表达式，再赋值
2. 赋值运算符的左边只能是变量，右边可以是变量、常量和表达式
3. 符合赋值运算符会进行类型转换，例如：`byte b = 1; b += 2;` 等价于 `b = (byte) (b + 2)`

### 条件运算符（Conditionnal/Ternary Operator）
基本语法：`条件表达式 ? 表达式1 : 表达式2`

运算规则：如果条件表达式为 true，运算结果是表达式1，否则运算结果是表达式2

> 注意：
> 1. 表达式1和表达式2要为可以赋给接收变量的类型（或可以自动转换）
> 2. 三元运算符可以转成 if-else 语句

### 位运算符（Bitwise Operators）
位运算符作用在所有的位上，并且按位运算，可用于 byte、short、int、long 和 char等类型

|运算符|描述|
|-|-|
|&|按位与，对应位都为 1，则结果为 1，否则为 0|
|\||按位或，对应位都为 0，则结果为 0，否则为 1|
|^|异或，，对应位相同，则结果为 0，否则为 1|
|~|按位取反，反转操作数的每一位，即 0 变 1，1 变 0|
|<<|按位左移，左操作数按位`左移`右操作数指定的位数|
|>>|按位右移，左操作数按位`右移`右操作数指定的位数|
|>>>|按位右移补零，左操作数按位`右移`右操作数指定的位数，移动得到的`空位用 0 填充`|

#### 二进制
### 运算符优先级（Operator Precedence）

|优先级|类型|运算顺序|运算符|
|-|-|-|-|
|1（最高）|后缀运算符（postfix）|L → R|`expr++`、`expr--`|
|2|单目运算符（unary）|R → L|`++expr`、`--expr`、`+expr`、`-expr`、`~`、`!`|
|3|乘法运算符（multiplicative）|L → R|`*`、`/`、`%`|
|4|加法运算符（additive）|L → R|`+`、`-`|
|5|移位运算符（shift）|L → R|`<<`、`>>`、`>>>`|
|6|关系运算符（relational）|L → R|`<`、`>`、`<=`、`>=`、`instanceof`|
|7|相等运算符（equality）|L → R|`==`、`!=`|
|8|按位与运算符（bitwise AND）|L → R|`&`|
|9|按位取反运算符（bitwise exclusive OR）|L → R|`^`|
|10|按位或运算符(bitwise inclusive OR)|L → R|`|`|
|11|逻辑与运算符（logical AND）|L → R|`&&`|
|12|逻辑或运算符（logical OR）|L → R|`||`|
|13|条件运算符（ternary）|R → L|`? :`|
|14（最低）|赋值运算符（assignment）|R → L|`=`、`+=`、`-=`、`*=`、`/=`、`%=`、`&=`、`^=`、`|=`、`<<=`、`>>=`、`>>>=`|

> 只有单目运算符、条件运算符和赋值运算符是从右往左运算
